"use strict";(()=>{var e={};e.id=215,e.ids=[215],e.modules={3524:e=>{e.exports=require("@prisma/client")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7790:e=>{e.exports=require("assert")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},629:e=>{e.exports=require("fs/promises")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},5807:e=>{e.exports=require("module")},9801:e=>{e.exports=require("os")},5315:e=>{e.exports=require("path")},8621:e=>{e.exports=require("punycode")},8220:e=>{e.exports=require("stream")},4175:e=>{e.exports=require("tty")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},6162:e=>{e.exports=require("worker_threads")},1568:e=>{e.exports=require("zlib")},778:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>k,patchFetch:()=>g,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>q,staticGenerationAsyncStorage:()=>m});var o={};t.r(o),t.d(o,{POST:()=>c,runtime:()=>l});var s=t(261),a=t(8331),i=t(4510),p=t(9784),u=t(2942),n=t(1830),x=t(8361);let l="nodejs";async function c(e,{params:r}){if(r.secret!==u.O.webhookSecret)return p.NextResponse.json({ok:!1},{status:404});if(u.O.telegramWebhookSecretToken&&e.headers.get("x-telegram-bot-api-secret-token")!==u.O.telegramWebhookSecretToken)return p.NextResponse.json({ok:!1},{status:401});try{let r=await e.json(),{bot:t}=await (0,n.M)();return await t.handleUpdate(r),p.NextResponse.json({ok:!0})}catch(e){return x.k.error({err:e},"Webhook handler failed"),p.NextResponse.json({ok:!1},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/telegram/webhook/[secret]/route",pathname:"/api/telegram/webhook/[secret]",filename:"route",bundlePath:"app/api/telegram/webhook/[secret]/route"},resolvedPagePath:"/Users/ilias_iangurazov/Desktop/telegram-shift-bot/src/app/api/telegram/webhook/[secret]/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:m,serverHooks:q}=d,k="/api/telegram/webhook/[secret]/route";function g(){return(0,i.patchFetch)({serverHooks:q,staticGenerationAsyncStorage:m})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[937,533,830],()=>t(778));module.exports=o})();